<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistical Programming - 8&nbsp; Debugging in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./reproducibility.html" rel="next">
<link href="./random.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<script src="site_libs/d3-3.5.6/d3.min.js"></script>
<link href="site_libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet">
<script src="site_libs/profvis-0.3.6.9000/profvis.js"></script>
<script src="site_libs/profvis-0.3.6.9000/scroll.js"></script>
<link href="site_libs/highlight-6.2.0/textmate.css" rel="stylesheet">
<script src="site_libs/highlight-6.2.0/highlight.js"></script>
<script src="site_libs/profvis-binding-0.3.8/profvis.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./debugging.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Debugging in <code>R</code></span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistical Programming</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reading_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Reading Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Wrangling Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summarization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Summarization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./matrices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Vectors and Matrices</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./random.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Random Number Generation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./debugging.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Debugging in <code>R</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reproducibility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Reproducible Research and Data Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./irls_literate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Iteratively Reweighted Least Squares</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#profiling" id="toc-profiling" class="nav-link active" data-scroll-target="#profiling"><span class="header-section-number">8.1</span> Profiling</a>
  <ul>
  <li><a href="#measuring-execution-time" id="toc-measuring-execution-time" class="nav-link" data-scroll-target="#measuring-execution-time">Measuring Execution Time</a></li>
  <li><a href="#micro-benchmarking" id="toc-micro-benchmarking" class="nav-link" data-scroll-target="#micro-benchmarking">Micro-benchmarking</a></li>
  <li><a href="#visual-profiler-in-rstudio" id="toc-visual-profiler-in-rstudio" class="nav-link" data-scroll-target="#visual-profiler-in-rstudio">Visual Profiler in RStudio</a></li>
  </ul></li>
  <li><a href="#tracebacks" id="toc-tracebacks" class="nav-link" data-scroll-target="#tracebacks"><span class="header-section-number">8.2</span> Tracebacks</a></li>
  <li><a href="#the-interactive-debugger" id="toc-the-interactive-debugger" class="nav-link" data-scroll-target="#the-interactive-debugger"><span class="header-section-number">8.3</span> The Interactive Debugger</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-debugging-R" class="quarto-section-identifier"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Debugging in <code>R</code></span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Debugging in the narrow sense is the finding and fixing of errors in the code. In the broader sense debugging are the activities that help us understand, analyze, improve, and fix code. This can take on many forms: analysis of log files, memory dumps, reading the code (!), control–flow analysis, profiling, debug messages, interactive debugging, and so on.</p>
<p>Profiling tools, for example, break down the time spent in a program by function calls, even down to individual lines of code. In order to optimize code for speed, you need to profile it first. You might be surprised where a program spends most of the execution time. To reduce run time you can then focus code optimization on those parts of the program.</p>
<p>All bugs are not created equal.</p>
<ul>
<li>Any defect related to security or data privacy is critical.</li>
<li>In analytic software, wrong-number-bugs are critical bugs.</li>
<li>The dreaded silent wrong-number-bug is the worst. When you compute an <span class="math inline">\(R^2\)</span> and report it as 1,530 most educated users of the program would recognize this as an obvious bug since most everyone knows that <span class="math inline">\(0 \le R^2 \le 1\)</span>. Still, it is a bad bug. A silent wrong number bug is to compute the <span class="math inline">\(R^2\)</span> as 0.75, when it should be 0.6. There is no indication to the user of the software that the reported number is incorrect.</li>
</ul>
<section id="profiling" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="profiling"><span class="header-section-number">8.1</span> Profiling</h2>
<p>Profiling code gives you an idea of how much time is spent executing the lines of code. This sounds simple, but is actually quite tricky. First, you need to have a way of reliably measure time, and you need to distinguish different definitions of “time” on a computer. In most situations we are interested in <em>wall-clock time</em>, referring to the amount of time elapsed when the code execution is measured by taking the difference between the time of day just prior and after the run.</p>
<section id="measuring-execution-time" class="level3">
<h3 class="anchored" data-anchor-id="measuring-execution-time">Measuring Execution Time</h3>
<p>To time the code</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>) { <span class="fu">mad</span>(<span class="fu">rnorm</span>(<span class="dv">1000</span>)) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>we could wrap it in calls to <code>Sys.time</code> and take the difference:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>st <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>) { <span class="fu">mad</span>(<span class="fu">rnorm</span>(<span class="dv">1000</span>)) }</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>diff <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>() <span class="sc">-</span> st</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>diff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 0.01855612 secs</code></pre>
</div>
</div>
<p><code>Sys.time</code> returns the absolute date and time of day, the precision is on the order of milliseconds but depends on the operating system. In order to measure execution time of code, it is recommended to use <code>proc.time()</code> instead, which measures the time the <code>R</code> process has spend on execution. <code>proc.time()</code> returns three numbers, the CPU time charged for the execution of the user instructions, the system time charged for execution by the system on behalf of the calling process, and the elapsed (wall-clock time).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proc.time</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.337   0.031   0.391 </code></pre>
</div>
</div>
<p>Wrapping the loop timed previously with <code>Sys.time</code> with calls to <code>proc.time</code> results in the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>st <span class="ot">&lt;-</span> <span class="fu">proc.time</span>()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>) { <span class="fu">mad</span>(<span class="fu">rnorm</span>(<span class="dv">1000</span>)) }</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>diff <span class="ot">&lt;-</span> <span class="fu">proc.time</span>() <span class="sc">-</span> st</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>diff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.017   0.000   0.017 </code></pre>
</div>
</div>
<p>You can simplify this operation by using <code>system.time</code> instead of <code>proc.time</code>. <code>system.time</code> makes calls to <code>proc.time</code> at the beginning and the end of the code execution and reports the difference:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(<span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>) <span class="fu">mad</span>(<span class="fu">rnorm</span>(<span class="dv">1000</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.016   0.000   0.016 </code></pre>
</div>
</div>
</section>
<section id="micro-benchmarking" class="level3">
<h3 class="anchored" data-anchor-id="micro-benchmarking">Micro-benchmarking</h3>
<p><strong>Benchmarking</strong> is the comparison of code alternatives. Sometimes, one of the alternatives is an established set of tests or conditions against which a product is evaluated. <a href="https://www.tpc.org/default5.asp">TPC</a>, for example, is a non-profit organization that establishes benchmark tests for databases. Right or wrong, if you develop a new database, eventually you will have to evaluate the database against the various TPC benchmarks.</p>
<p>More often benchmarking comes into play in evaluating alternative ways of accomplishing the same result. Which one is faster? Which one requires less memory? Does it matter? This form of benchmarking uses packages designed to evaluate code execution with sub-millisecond precision. One such package in <code>R</code> is <code>microbenchmark</code>. It gives a more accurate comparison than the frequently seen <code>system.time(replicate(1000,expr))</code> expression. However, the package is not available for all versions of <code>R</code>. For example, it failed to install on my M2 Mac <code>R 4.3.0</code>. Another package is <code>bench</code>, which we will use here.</p>
<p>The idea of micro-benchmarking is to run a piece of code multiple times, either a fixed number of times or for a certain length of time and to describe the statistical properties of the run times (min, max, mean, std. deviation, median) as well as other characteristics (memory consumption, garbage collection, etc.).</p>
<p>Consider the following three approaches to compute the square root of the elements of a vector:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">1000</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(x)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="fl">0.5</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>s3 <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">log</span>(x) <span class="sc">*</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Mathematically, they are identical. Numerically, they are equivalent in the sense that they lead to the same answer within the limits of finite precision:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(s1<span class="sc">-</span>s2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(s1<span class="sc">-</span>s3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>To see which of the three methods is fastest, we can run a micro-benchmark with <code>bench:mark()</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bench)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>bm <span class="ot">&lt;-</span> <span class="fu">mark</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sqrt</span>(x),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        x<span class="sc">^</span><span class="fl">0.5</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">exp</span>(<span class="fu">log</span>(x)<span class="sc">*</span><span class="fl">0.5</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">time_unit=</span><span class="st">'us'</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>bm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
  expression          min median `itr/sec` mem_alloc `gc/sec`
  &lt;bch:expr&gt;        &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;
1 sqrt(x)           0.902   1.23   619946.    7.86KB     62.0
2 x^0.5             3.53    3.69   245918.    7.86KB     24.6
3 exp(log(x) * 0.5) 5.45    5.90   166042.    7.86KB     33.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bm, <span class="at">type=</span><span class="st">"violin"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bench-sqrt" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bench-sqrt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="debugging_files/figure-html/fig-bench-sqrt-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bench-sqrt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.1: Results of benchmarking three ways of taking the square root of a vector.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The <code>time_unit='us'</code> option requests that all times are reported in microseconds. If you do not specify this parameter, the times can be reported in different units for the code alternatives. By default, <code>bench::mark</code> runs each expression for at least (<code>min_time=</code>) 0.5 seconds and for up to (<code>max_iterations=</code>) 10,000 iterations.</p>
<p>The built-in <code>sqrt</code> function is faster than the power computation and much faster than exponentiation the logs.</p>
<p>The violin plot of the results shows that the distribution of the run times is heavily skewed to the right (<a href="#fig-bench-sqrt" class="quarto-xref">Figure&nbsp;<span>8.1</span></a>). Some individual function calls can exceed the majority of the calls by orders of magnitude—note that the horizontal axis of the plot is on the log scale! You should avoid benchmarking based on the mean run time and instead use the median run time.</p>
</section>
<section id="visual-profiler-in-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="visual-profiler-in-rstudio">Visual Profiler in RStudio</h3>
<p>Wrapping code in <code>system.time</code> is convenient if you want to know the (user, system, elapsed) time for a chunk of code. Micro-benchmarking is helpful to evaluate alternative ways of writing expressions. To measure the performance of larger pieces of code, down to the level of function calls and individual lines of code we use a <strong>profiler</strong>.</p>
<p>To get a detailed analysis of how much time is spent on lines of user-written code, and how much memory is allocated/deallocated for those lines of code, you can use the profiler tool that is built into RStudio. You first need to load the <code>profvis</code> library, then wrap the code you wish to profile in a call to <code>profvis({code-goes-here})</code>. After the profiling run RStudio opens a window with two tabs. The <strong>flame graph</strong> provides a visual representation of the time spent in code execution, stacking functions that call each other. The <code>Data</code> tab provides a tabular breakdown—many users find that easier to comprehend than the flame graph.</p>
<!---

::: {.cell}

```{.r .cell-code}
library(profvis)

profvis({
  data(diamonds, package = "ggplot2")

  m <- lm(log(price) ~ carat, data = diamonds)
  loe <- loess(log(price) ~ carat, data=diamonds, span=0.5)

  plot(log(price) ~ carat, data = diamonds)
  abline(m, col = "red")
  xvals <- sort(unique(diamonds$carat))
  lines(xvals,predict(loe,newdata=xvals),col="blue")
})
```

::: {.cell-output-display}
![](debugging_files/figure-html/unnamed-chunk-9-1.png){width=672}
:::

::: {.cell-output-display}


```{=html}
<div class="profvis html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2a52fa87906c77d894bd" style="width:100%;height:600px;"></div>
<script type="application/json" data-for="htmlwidget-2a52fa87906c77d894bd">{"x":{"message":{"prof":{"time":[1,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,982,982,982,983,983,983,983,984,984,984,984,985,985,985,985,986,986,986,986,987,987,987,987,988,988,988,988,989,989,989,989,990,990,990,991,991,991,992,992,992,993,993,993,994,994,994,995,995,995,996,996,996,997,997,997,998,998,998,999,999,999,1000,1000,1000,1001,1001,1001,1002,1002,1002,1003,1003,1003,1004,1004,1004,1005,1005,1005,1006,1006,1006,1007,1007,1007,1008,1008,1008,1009,1009,1009,1010,1010,1010,1011,1011,1011,1012,1012,1012,1013,1013,1013,1014,1014,1014,1015,1015,1015,1015,1015],"depth":[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,5,4,3,2,1],"label":["lm.fit","lm",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C",".C","deparse","deparse1","plot.default","plot.formula","deparse","deparse1","plot.default","plot.formula","deparse","deparse1","plot.default","plot.formula","deparse","deparse1","plot.default","plot.formula","deparse","deparse1","plot.default","plot.formula","deparse","deparse1","plot.default","plot.formula","deparse","deparse1","plot.default","plot.formula","deparse","deparse1","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","plot.xy","plot.default","plot.formula","<GC>","FUN","apply","predLoess","predict.loess"],"filenum":[null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"linenum":[null,6,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"memalloc":[37.54271697998047,37.54271697998047,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,53.93106842041016,55.29202270507812,55.29202270507812,55.29202270507812,55.29202270507812,55.29202270507812,55.29202270507812,55.29202270507812,55.29202270507812,55.47725677490234,55.47725677490234,55.47725677490234,55.47725677490234,55.88984680175781,55.88984680175781,55.88984680175781,55.88984680175781,55.88984680175781,55.88984680175781,55.88984680175781,55.88984680175781,55.98887634277344,55.98887634277344,55.98887634277344,55.98887634277344,56.38538360595703,56.38538360595703,56.38538360595703,56.38538360595703,56.78433990478516,56.78433990478516,56.78433990478516,56.78433990478516,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,60.74729156494141,63.73310089111328,63.73310089111328,63.73310089111328,63.73310089111328,63.73310089111328],"meminc":[0,0,16.38835144042969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.360954284667969,0,0,0,0,0,0,0,0.1852340698242188,0,0,0,0.4125900268554688,0,0,0,0,0,0,0,0.099029541015625,0,0,0,0.3965072631835938,0,0,0,0.398956298828125,0,0,0,3.96295166015625,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.985809326171875,0,0,0,0],"filename":[null,"<expr>",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"interval":10,"files":[{"filename":"<expr>","content":"library(profvis)\n\nprofvis({\n  data(diamonds, package = \"ggplot2\")\n\n  m <- lm(log(price) ~ carat, data = diamonds)\n  loe <- loess(log(price) ~ carat, data=diamonds, span=0.5)\n\n  plot(log(price) ~ carat, data = diamonds)\n  abline(m, col = \"red\")\n  xvals <- sort(unique(diamonds$carat))\n  lines(xvals,predict(loe,newdata=xvals),col=\"blue\")\n})\n","normpath":"<expr>"}],"prof_output":"/var/folders/ff/6m670wks1776ck_gbfxynxrc0000gq/T//RtmpFuFHrC/filebbe6338b062d.prof","highlight":{"output":["^output\\$"],"gc":["^<GC>$"],"stacktrace":["^\\.\\.stacktraceo(n|ff)\\.\\.$"]},"split":"h"}},"evals":[],"jsHooks":[]}</script>
```


:::
:::

--->
<p>The following example calls the profiler for code that computes the histogram, mean, and standard deviation of 1000 bootstrap samples of the trimmed mean in a sample of <span class="math inline">\(n=20,000\)</span> observations from a <span class="math inline">\(G(0,2)\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(profvis)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">profvis</span>({</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">542</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="dv">20000</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="fu">sqrt</span>(<span class="dv">2</span>))</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  bagger <span class="ot">&lt;-</span> <span class="cf">function</span>(x,<span class="at">b=</span><span class="dv">1000</span>) {</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>      n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>      estimates <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,b)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>b) {</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>          <span class="co"># Draw a bootstrap sample</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>          bsample <span class="ot">&lt;-</span> <span class="fu">sample</span>(n,n,<span class="at">replace=</span><span class="cn">TRUE</span>)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>          <span class="co"># Compute the trimmed mean of the bootstrap sample</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>          estimates[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(x[bsample],<span class="at">trim=</span><span class="fl">0.15</span>)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Compute mean and standard deviation of the estimator</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>      mn <span class="ot">=</span> <span class="fu">mean</span>(estimates)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>      sdev <span class="ot">=</span> <span class="fu">sd</span>(estimates)</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hist</span>(estimates)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span> (<span class="fu">list</span>(<span class="at">B=</span>b, <span class="at">mean=</span>mn, <span class="at">sd=</span>sdev))</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bagger</span>(x,<span class="at">b=</span><span class="dv">1000</span>)</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="debugging_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="profvis html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-95baa1d9d6f13d90d09c" style="width:100%;height:600px;"></div>
<script type="application/json" data-for="htmlwidget-95baa1d9d6f13d90d09c">{"x":{"message":{"prof":{"time":[1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,6,7,7,7,8,8,8,9,9,10,10,10,11,11,11,12,12,12,12,13,13,13,14,14,14,15,15,15,16,16,16,17,17,18,18,18,19,19,20,20,20,21,21,22,22,22,23,23,23,24,24,24,25,25,25,26,26,26,27,27,27,28,28,28,29,29,30,30,30,31,31,31,32,32,33,33,33,34,34,34,35,35,35,36,36,37,37,37,38,38,38,39,39,39,40,40,41,41,41,42,42,42,43,43,43,44,44,44,45,45,46,46,46,47,47,47,48,48,48,49,49,49,50,50,50,51,52,52,52,53,53,53,54,54,54,55,55,56,56,56,57,57,57,58,58,58,59,59,59,60,60,60,61,61,61,62,62,63,63,63,64,64,64,65,65,65,66,66,66,67,67,67,68,68,68,69,69,69,70,70,70,71,71,71,72,72,72,73,73,73,74,74,74,75,75,76,77,77,77,78,78,78,79,79,79,80,81,81,82,82,82,83,83,83,84,84,84,85,85,86,86,86,87,87,87,88,88,88,89,89,89,90,90,90,91,91,91,92,92,92,93,93,93,94,94,94,95,95,96,96,97,97,97,98,99,99,100,100,101,101,101],"depth":[3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,4,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,4,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,2,1,1,3,2,1,3,2,1,3,2,1,1,2,1,3,2,1,3,2,1,3,2,1,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,2,1,2,1,3,2,1,1,2,1,2,1,3,2,1],"label":["sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","<GC>","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","sort.int","mean.default","bagger","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","<GC>","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","sort.int","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sort.int","mean.default","bagger","mean.default","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","mean.default","bagger","sample.int","sample","bagger","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sort.int","mean.default","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","sample.int","sample","bagger","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","mean.default","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","sort.int","mean.default","bagger","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","mean.default","bagger","sample.int","sample","bagger","<GC>","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","is.na","sample.int","sample","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sort.int","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sort.int","mean.default","bagger","mean.default","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","sort.int","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sort.int","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sample.int","sample","bagger","mean.default","bagger","anyNA","sample.int","sample","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","is.na","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sort.int","mean.default","bagger","mean.default","bagger","sort.int","mean.default","bagger","sample.int","sample","bagger","estimates[i] <- mean(x[bsample],trim=0.15)","mean","bagger","sort.int","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","sort.int","mean.default","bagger","sample.int","sample","bagger","sample.int","sample","bagger","mean.default","bagger","mean.default","bagger","sample.int","sample","bagger","is.na","mean.default","bagger","mean.default","bagger","sample.int","sample","bagger"],"filenum":[null,1,1,null,1,1,null,1,1,null,1,1,null,1,1,null,null,1,1,1,1,1,null,null,1,null,1,null,1,1,null,1,1,null,1,1,1,null,null,1,null,1,1,null,1,1,null,null,1,null,1,1,1,1,null,1,null,1,1,null,1,null,1,1,null,1,1,null,1,1,null,1,1,null,null,1,1,1,1,null,1,1,null,1,null,1,1,null,1,1,null,1,null,1,1,null,1,1,1,1,1,null,1,null,1,1,1,1,1,null,null,1,null,1,null,1,1,null,1,1,null,1,1,null,1,1,null,1,null,1,1,null,null,1,null,1,1,null,1,1,1,1,1,null,null,1,1,null,1,1,1,1,1,null,1,null,1,1,null,1,1,null,null,1,null,1,1,null,1,1,null,null,1,null,1,null,1,1,1,1,1,null,null,1,null,1,1,null,1,1,null,null,1,null,1,1,null,1,1,1,1,1,null,1,1,null,1,1,null,1,1,null,1,null,null,1,1,null,1,1,1,1,1,null,null,1,null,1,1,null,1,1,null,null,1,null,1,null,null,1,null,1,1,1,1,1,null,null,1,null,1,1,null,1,1,null,null,1,null,1,1,null,1,1,null,1,null,1,null,1,1,null,null,1,null,1,null,1,1],"linenum":[null,14,25,null,14,25,null,14,25,null,14,25,null,14,25,null,null,14,25,16,16,25,null,null,25,null,25,null,14,25,null,14,25,null,16,16,25,null,null,25,null,14,25,null,14,25,null,null,25,null,25,16,16,25,null,25,null,14,25,null,25,null,14,25,null,14,25,null,14,25,null,14,25,null,null,25,16,16,25,null,14,25,null,25,null,14,25,null,14,25,null,25,null,14,25,null,14,25,16,16,25,null,25,null,14,25,16,16,25,null,null,25,null,25,null,14,25,null,14,25,null,14,25,null,14,25,null,25,null,14,25,null,null,25,null,14,25,null,14,25,16,16,25,null,null,14,25,null,14,25,16,16,25,null,25,null,14,25,null,14,25,null,null,25,null,14,25,null,14,25,null,null,25,null,25,null,14,25,16,16,25,null,null,25,null,14,25,null,14,25,null,null,25,null,14,25,null,14,25,16,16,25,null,14,25,null,14,25,null,14,25,null,25,null,null,14,25,null,14,25,16,16,25,null,null,25,null,14,25,null,14,25,null,null,25,null,25,null,null,25,null,14,25,16,16,25,null,null,25,null,14,25,null,14,25,null,null,25,null,14,25,null,14,25,null,25,null,25,null,14,25,null,null,25,null,25,null,14,25],"memalloc":[32.95478057861328,32.95478057861328,32.95478057861328,39.16457366943359,39.16457366943359,39.16457366943359,45.37436676025391,45.37436676025391,45.37436676025391,51.58415985107422,51.58415985107422,51.58415985107422,57.79395294189453,57.79395294189453,57.79395294189453,63.92745208740234,63.92745208740234,63.92745208740234,63.92745208740234,33.47354125976562,33.47354125976562,33.47354125976562,40.06524658203125,40.06524658203125,40.06524658203125,46.435302734375,46.435302734375,52.72151184082031,52.72151184082031,52.72151184082031,58.93130493164062,58.93130493164062,58.93130493164062,33.42715454101562,33.42715454101562,33.42715454101562,33.42715454101562,35.097412109375,35.097412109375,35.097412109375,41.54388427734375,41.54388427734375,41.54388427734375,47.75367736816406,47.75367736816406,47.75367736816406,54.34777069091797,54.34777069091797,54.34777069091797,60.61101531982422,60.61101531982422,30.44732666015625,30.44732666015625,30.44732666015625,37.03907775878906,37.03907775878906,43.48550415039062,43.48550415039062,43.48550415039062,50.07964324951172,50.07964324951172,56.52606964111328,56.52606964111328,56.52606964111328,62.73586273193359,62.73586273193359,62.73586273193359,32.38655853271484,32.38655853271484,32.38655853271484,38.59635162353516,38.59635162353516,38.59635162353516,44.56946563720703,44.56946563720703,44.56946563720703,50.39734649658203,50.39734649658203,50.39734649658203,56.60475158691406,56.60475158691406,56.60475158691406,62.57791137695312,62.57791137695312,31.92294311523438,31.92294311523438,31.92294311523438,38.13273620605469,38.13273620605469,38.13273620605469,44.72687530517578,44.72687530517578,51.17330169677734,51.17330169677734,51.17330169677734,57.38309478759766,57.38309478759766,57.38309478759766,63.59527587890625,63.59527587890625,63.59527587890625,31.99729919433594,31.99729919433594,38.28350830078125,38.28350830078125,38.28350830078125,44.49568939208984,44.49568939208984,44.49568939208984,51.08739471435547,51.08739471435547,51.08739471435547,57.29723358154297,57.29723358154297,63.74365997314453,63.74365997314453,63.74365997314453,34.37407684326172,34.37407684326172,34.37407684326172,40.66016387939453,40.66016387939453,40.66016387939453,46.86995697021484,46.86995697021484,46.86995697021484,53.00333404541016,53.00333404541016,59.28954315185547,59.28954315185547,59.28954315185547,30.75733184814453,30.75733184814453,30.75733184814453,35.25490570068359,35.25490570068359,35.25490570068359,41.46469879150391,41.46469879150391,41.46469879150391,47.6768798828125,47.6768798828125,47.6768798828125,54.03962707519531,60.71505737304688,60.71505737304688,60.71505737304688,30.80078887939453,30.80078887939453,30.80078887939453,37.01296997070312,37.01296997070312,37.01296997070312,43.60472106933594,43.60472106933594,50.0511474609375,50.0511474609375,50.0511474609375,56.26094055175781,56.26094055175781,56.26094055175781,62.70244598388672,62.70244598388672,62.70244598388672,33.74497222900391,33.74497222900391,33.74497222900391,39.95476531982422,39.95476531982422,39.95476531982422,46.54885864257812,46.54885864257812,46.54885864257812,52.75869750976562,52.75869750976562,59.12882995605469,59.12882995605469,59.12882995605469,30.40536499023438,30.40536499023438,30.40536499023438,36.9970703125,36.9970703125,36.9970703125,43.44354248046875,43.44354248046875,43.44354248046875,49.65333557128906,49.65333557128906,49.65333557128906,56.24742889404297,56.24742889404297,56.24742889404297,62.69390106201172,62.69390106201172,62.69390106201172,34.02191925048828,34.02191925048828,34.02191925048828,40.23410034179688,40.23410034179688,40.23410034179688,47.06248474121094,47.06248474121094,47.06248474121094,53.27227783203125,53.27227783203125,53.27227783203125,59.48207092285156,59.48207092285156,59.48207092285156,31.43312835693359,31.43312835693359,37.98118591308594,44.65692138671875,44.65692138671875,44.65692138671875,50.86671447753906,50.86671447753906,50.86671447753906,57.07889556884766,57.07889556884766,57.07889556884766,63.44164276123047,35.56588745117188,35.56588745117188,42.01231384277344,42.01231384277344,42.01231384277344,48.22210693359375,48.22210693359375,48.22210693359375,54.81620025634766,54.81620025634766,54.81620025634766,61.02603912353516,61.02603912353516,33.93421173095703,33.93421173095703,33.93421173095703,40.38068389892578,40.38068389892578,40.38068389892578,46.59286499023438,46.59286499023438,46.59286499023438,53.1845703125,53.1845703125,53.1845703125,59.63104248046875,59.63104248046875,59.63104248046875,32.76854705810547,32.76854705810547,32.76854705810547,39.36264038085938,39.36264038085938,39.36264038085938,45.80911254882812,45.80911254882812,45.80911254882812,52.01890563964844,52.01890563964844,52.01890563964844,58.61304473876953,58.61304473876953,32.14950561523438,32.14950561523438,38.43571472167969,38.43571472167969,38.43571472167969,44.80084991455078,51.23964691162109,51.23964691162109,57.44944000244141,57.44944000244141,63.89586639404297,63.89586639404297,63.89586639404297],"meminc":[0,0,0,6.209793090820312,0,0,6.209793090820312,0,0,6.209793090820312,0,0,6.209793090820312,0,0,6.133499145507812,0,0,0,-30.45391082763672,0,0,6.591705322265625,0,0,6.37005615234375,0,6.286209106445312,0,0,6.209793090820312,0,0,-25.504150390625,0,0,0,1.670257568359375,0,0,6.44647216796875,0,0,6.209793090820312,0,0,6.594093322753906,0,0,6.26324462890625,0,-30.16368865966797,0,0,6.591751098632812,0,6.446426391601562,0,0,6.594139099121094,0,6.446426391601562,0,0,6.209793090820312,0,0,-30.34930419921875,0,0,6.209793090820312,0,0,5.973114013671875,0,0,5.827880859375,0,0,6.207405090332031,0,0,5.973159790039062,0,-30.65496826171875,0,0,6.209793090820312,0,0,6.594139099121094,0,6.446426391601562,0,0,6.209793090820312,0,0,6.212181091308594,0,0,-31.59797668457031,0,6.286209106445312,0,0,6.212181091308594,0,0,6.591705322265625,0,0,6.2098388671875,0,6.446426391601562,0,0,-29.36958312988281,0,0,6.286087036132812,0,0,6.209793090820312,0,0,6.133377075195312,0,6.286209106445312,0,0,-28.53221130371094,0,0,4.497573852539062,0,0,6.209793090820312,0,0,6.212181091308594,0,0,6.362747192382812,6.675430297851562,0,0,-29.91426849365234,0,0,6.212181091308594,0,0,6.591751098632812,0,6.446426391601562,0,0,6.209793090820312,0,0,6.441505432128906,0,0,-28.95747375488281,0,0,6.209793090820312,0,0,6.594093322753906,0,0,6.2098388671875,0,6.370132446289062,0,0,-28.72346496582031,0,0,6.591705322265625,0,0,6.44647216796875,0,0,6.209793090820312,0,0,6.594093322753906,0,0,6.44647216796875,0,0,-28.67198181152344,0,0,6.212181091308594,0,0,6.828384399414062,0,0,6.209793090820312,0,0,6.209793090820312,0,0,-28.04894256591797,0,6.548057556152344,6.675735473632812,0,0,6.209793090820312,0,0,6.212181091308594,0,0,6.362747192382812,-27.87575531005859,0,6.446426391601562,0,0,6.209793090820312,0,0,6.594093322753906,0,0,6.2098388671875,0,-27.09182739257812,0,0,6.44647216796875,0,0,6.212181091308594,0,0,6.591705322265625,0,0,6.44647216796875,0,0,-26.86249542236328,0,0,6.594093322753906,0,0,6.44647216796875,0,0,6.209793090820312,0,0,6.594139099121094,0,-26.46353912353516,0,6.286209106445312,0,0,6.365135192871094,6.438796997070312,0,6.209793090820312,0,6.446426391601562,0,0],"filename":[null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,null,"<expr>",null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>","<expr>","<expr>",null,"<expr>",null,"<expr>","<expr>",null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>","<expr>","<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,"<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,null,"<expr>",null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,null,"<expr>","<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>",null,null,"<expr>","<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>",null,null,"<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>","<expr>",null,"<expr>","<expr>",null,"<expr>",null,"<expr>",null,"<expr>","<expr>",null,null,"<expr>",null,"<expr>",null,"<expr>","<expr>"]},"interval":10,"files":[{"filename":"<expr>","content":"library(profvis)\n\nprofvis({\n\n  set.seed(542)\n  n <- 20000\n  x <- rnorm(n, mean=0, sd=sqrt(2))\n\n  bagger <- function(x,b=1000) {\n      n <- length(x)\n      estimates <- rep(0,b)\n      for (i in 1:b) {\n          # Draw a bootstrap sample\n          bsample <- sample(n,n,replace=TRUE)\n          # Compute the trimmed mean of the bootstrap sample\n          estimates[i] <- mean(x[bsample],trim=0.15)\n      }\n      # Compute mean and standard deviation of the estimator\n      mn = mean(estimates)\n      sdev = sd(estimates)\n      hist(estimates)\n      return (list(B=b, mean=mn, sd=sdev))\n  }\n\n  bagger(x,b=1000)\n})\n","normpath":"<expr>"}],"prof_output":"/var/folders/ff/6m670wks1776ck_gbfxynxrc0000gq/T//RtmpFuFHrC/filebbe6a1bb324.prof","highlight":{"output":["^output\\$"],"gc":["^<GC>$"],"stacktrace":["^\\.\\.stacktraceo(n|ff)\\.\\.$"]},"split":"h"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr>
<p>Each block in the flame graph represents a call to a function, or possibly multiple calls to the same function. The width of the block is proportional to the amount of time spent in that function. When a function calls another function, a block is added on top of it in the flame graph. Memory reported in the Data view shows allocated memory as positive values and deallocated memory as negative values (in megabytes).</p>
<p>The profiler is a great tool for long-running code, and can point you at opportunities for optimizing execution time. However, you need to be aware of how it works and the resulting issues:</p>
<ul>
<li><p>The profiler samples the code. Every few milliseconds the profiler stops the interpreters and records which function call it is in and traces back through the call stack. You will get different results from run to run, depending on which lines of code and which functions are being sampled. The variability in profiling results affects the functions the most that execute quickly—they might get sampled once or a few times in one profiling run and might get skipped in another run. Fortunately, those are the functions of least interest in code optimization—you focus on the code where the program spends most of the time.</p></li>
<li><p>If your code runs fast, the profiler might not hit any lines of code. On the other hand, you should be able to reliably hit the long-running parts of the code with the profiler.</p></li>
<li><p>The profiler does not record some built-in R functions or code written in other languages. Many routines are calling into C, C++, or even Fortran code. The profiler records an overall time for that code, but does not provide a breakdown.</p></li>
<li><p>The call stack might appear to be in a reverse order from the code. This is because <code>R</code>s lazy execution model might call a routine only when it is needed, rather then where it is specified in the code.</p></li>
<li><p>You might see a <code>GC</code> entry in the profiler. This represents the <em>garbage collector</em> which frees resources no longer needed. Garbage collection is unpredictable, depends on the overall state of the system, and is also time consuming—it can throw off the profiling results if it occurs during a run. However, if you consistently find garbage collection in the profiling run, it can be a sign that the code is spending a lot of time freeing and reallocating memory. There will be corresponding memory allocations and this represents an opportunity to optimize the code to be more memory efficient. For example, instead of adding elements to lists inside a loop, pre-allocating the required memory and filling in the elements will trigger fewer reallocations of memory.</p></li>
</ul>
<p>The following code adds elements to a list in a loop. <code>R</code> has to increase the size of the vector several times, leading to memory allocation and garbage collection (freeing) of previously allocated memory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">profvis</span>({</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">integer</span>()</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>) {</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        x <span class="ot">&lt;-</span> <span class="fu">c</span>(x, i)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="profvis html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-08db62aa4cdbd2d303f9" style="width:100%;height:600px;"></div>
<script type="application/json" data-for="htmlwidget-08db62aa4cdbd2d303f9">{"x":{"message":{"prof":{"time":[1,2,2,3,3,4,4,5,6,7,8],"depth":[1,2,1,2,1,2,1,1,1,1,1],"label":["c","<GC>","c","<GC>","c","<GC>","c","c","c","c","c"],"filenum":[1,null,1,null,1,null,1,1,1,1,1],"linenum":[4,null,4,null,4,null,4,4,4,4,4],"memalloc":[60.13572692871094,64.05778503417969,64.05778503417969,64.05778503417969,64.05778503417969,28.29725646972656,28.29725646972656,62.99409484863281,59.06398773193359,56.32457733154297,52.52982330322266],"meminc":[0,3.92205810546875,0,0,0,-35.76052856445312,0,34.69683837890625,-3.930107116699219,-2.739410400390625,-3.794754028320312],"filename":["<expr>",null,"<expr>",null,"<expr>",null,"<expr>","<expr>","<expr>","<expr>","<expr>"]},"interval":10,"files":[{"filename":"<expr>","content":"profvis({\n    x <- integer()\n    for (i in 1:10000) {\n        x <- c(x, i)\n    }\n}\n)","normpath":"<expr>"}],"prof_output":"/var/folders/ff/6m670wks1776ck_gbfxynxrc0000gq/T//RtmpFuFHrC/filebbe64436511f.prof","highlight":{"output":["^output\\$"],"gc":["^<GC>$"],"stacktrace":["^\\.\\.stacktraceo(n|ff)\\.\\.$"]},"split":"h"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr>
<p>You could achieve the same result with a single memory allocation and without garbage collection with this code</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">10000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you fill values in a loop, pre-allocate the result vector to avoid garbage collection:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">integer</span>(<span class="dv">10000</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {x[i] <span class="ot">=</span> i}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="tracebacks" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="tracebacks"><span class="header-section-number">8.2</span> Tracebacks</h2>
<!---
from https://adv-r.hadley.nz/debugging.html
--->
<p>A <strong>traceback</strong> is a listing of the call stack of the program. Tracebacks are helpful to see which functions were called when an error occurs. Consider the following example from “Advanced R” by <span class="citation" data-cites="Wickham_AdvR">Wickham (<a href="references.html#ref-Wickham_AdvR" role="doc-biblioref">2019</a>)</span>. Function <code>f</code> calls function <code>g</code> which calls function <code>h</code> and so forth.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(a) <span class="fu">g</span>(a)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="cf">function</span>(b) <span class="fu">h</span>(b)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="cf">function</span>(c) <span class="fu">i</span>(c)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="cf">function</span>(d) {</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(d)) {</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"`d` must be numeric"</span>, <span class="at">call. =</span> <span class="cn">FALSE</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  d <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When we call with a non-numeric argument, an error occurs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: `d` must be numeric</code></pre>
</div>
</div>
<p>If you are in RStudio, you can now click the “Show Traceback” button next to the error message (<a href="#fig-traceback-button" class="quarto-xref">Figure&nbsp;<span>8.2</span></a>).</p>
<div id="fig-traceback-button" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-traceback-button-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/showtrace.png" class="lightbox" data-glightbox="description: .lightbox-desc-1" data-gallery="quarto-lightbox-gallery-1"><img src="images/showtrace.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-traceback-button-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.2: The <em>Show Traceback</em> icon in RStudio after an error occured
</figcaption>
</figure>
</div>
<p>Alternatively, you can see the traceback with the <code>traceback()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">traceback</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="images/traceback.png" class="img-fluid"></p>
</section>
<section id="the-interactive-debugger" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="the-interactive-debugger"><span class="header-section-number">8.3</span> The Interactive Debugger</h2>
<p>The RStudio IDE has an interactive debugging tool. Interactive debugging allows you to stop code execution at breakpoints, step through the code, interact with function evaluations, see and change the value of variables, and so forth. It is a valuable tool to find problems in programs and to learn how code works. It is highly recommended to step into the functions you frequently use and examine the code line by line—you learn a lot about how your favorite packages work.</p>
<p>Suppose you want to run a classification model using adaptive boosting on the banana quality data. This data set contains ratings of the fruit quality (Good, Bad) and fruit attributes such as size, weight, sweetness, etc., for 4,000 bananas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"duckdb"</span>)  </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="fu">duckdb</span>(),<span class="at">dbdir =</span> <span class="st">"ads.ddb"</span>,<span class="at">read_only=</span><span class="cn">TRUE</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>ban_train <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con, <span class="st">"SELECT * FROM banana_train"</span>) </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(con)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ban_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Size      Weight   Sweetness    Softness HarvestTime    Ripeness
1  1.706644 -0.03692624 -4.46344950 -1.51004720   4.5640225 -0.04171263
2  3.703947  1.11884890 -3.04337740  0.02899801  -0.9705806 -1.46996620
3 -3.888493  1.32609500  0.04608246  2.25944950   0.5068415  0.73710510
4 -3.052952 -0.58796227 -1.63466790  1.04902060  -0.2098602 -1.81881750
5  1.965954 -1.37867620 -3.14279270 -3.24607060  -0.6116899  1.81526600
6  2.306789 -3.69348800 -0.04255614  0.70101670   2.7060213  3.96723440
     Acidity Quality
1  4.3266883    Good
2 -0.5881153    Good
3  2.5832198     Bad
4  3.9573660     Bad
5 -0.5000507     Bad
6 -0.9244213    Good</code></pre>
</div>
</div>
<p>Suppose we want to debug the code for adaptive boosting in the <code>ada</code> package. The following statements load the library and invoke the <code>ada::ada</code> function on the banana training data. Prior to executing the code, execute <code>debugonce(ada::ada)</code> in the Console. This will set a breakpoint at the entry point of the function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ada)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>adab <span class="ot">&lt;-</span> <span class="fu">ada</span>(Quality <span class="sc">~</span> ., </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">data=</span>ban_train,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">control=</span><span class="fu">rpart.control</span>(<span class="at">maxdepth=</span><span class="dv">1</span>, <span class="at">cp=</span><span class="sc">-</span><span class="dv">1</span>, <span class="at">minsplit=</span><span class="dv">0</span>, <span class="at">xval=</span><span class="dv">0</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>            )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When the code above is executed, a browser window pops up when the breakpoint at <code>ada::ada()</code> is hit. The browser shows the <code>R</code> source code of the function and highlights the current line of the code (<a href="#fig-debug-entry" class="quarto-xref">Figure&nbsp;<span>8.3</span></a>). The frame of the Console window now shows five icons through which you can navigate the code (<a href="#fig-debug-icons" class="quarto-xref">Figure&nbsp;<span>8.4</span></a>).</p>
<div id="fig-debug-entry" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-debug-entry-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/debug2.png" class="lightbox" data-glightbox="description: .lightbox-desc-2" data-gallery="quarto-lightbox-gallery-2"><img src="images/debug2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-debug-entry-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.3: Hitting the breakpoint at the <code>ada:ada</code> entry point.
</figcaption>
</figure>
</div>
<ul>
<li><strong>Next</strong> (n): Execute the line of code and move to the next line</li>
<li><strong>Step Into</strong> (s): Step into the function called on the line you are on.</li>
<li><strong>Step Out</strong> (f): Run to the end of the current function (or loop) and step back out to the calling function</li>
<li><strong>Continue</strong> (c) : Stop interactive debugging and continue execution of the code</li>
<li><strong>Stop</strong> (Q): Stop interactive debugging and terminate execution of the code</li>
</ul>
<div id="fig-debug-icons" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-debug-icons-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/debug1.png" class="lightbox" data-glightbox="description: .lightbox-desc-3" data-gallery="quarto-lightbox-gallery-3"><img src="images/debug1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-debug-icons-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.4: Controls for moving through the code in the browser window.
</figcaption>
</figure>
</div>
<p><a href="#fig-debug-ada.default" class="quarto-xref">Figure&nbsp;<span>8.5</span></a> shows the result of stepping into the <code>ada</code> function. This brings you to the <code>ada.formula</code> function where the model expression is parsed. Advancing with several <strong>Next</strong> steps will land the cursor on the call to <code>ada.default</code>. If you now click on <strong>Step Into</strong> the source file for <code>ada.default</code> is loaded and you can advance through the function. If you click instead on <strong>Next</strong>, the call to <code>ada.default</code> function is completed and debugging resumes on line 22.</p>
<div id="fig-debug-ada.default" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-debug-ada.default-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/debug3.png" class="lightbox" data-glightbox="description: .lightbox-desc-4" data-gallery="quarto-lightbox-gallery-4"><img src="images/debug3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-debug-ada.default-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.5: About to execute the call to <code>ada.default</code>.
</figcaption>
</figure>
</div>
<p>During interactive debugging the Environment pane shows the values of the variables and objects in the code and the call stack (<a href="#fig-debug-env" class="quarto-xref">Figure&nbsp;<span>8.6</span></a>).</p>
<div id="fig-debug-env" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-debug-env-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/debug4.png" class="lightbox" data-glightbox="description: .lightbox-desc-5" data-gallery="quarto-lightbox-gallery-5"><img src="images/debug4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-debug-env-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8.6: A view of the environment during interactive debugging.
</figcaption>
</figure>
</div>
<p>You can invoke the interactive debugger through other methods as well:</p>
<ol type="1">
<li><p>Setting a break point in the code by either clicking on the line number or with Shift-F9. I have found this method to not work reliably in .Rmd and .qmd documents. It does work in R scripts (.R files).</p></li>
<li><p>Invoking the <code>browser()</code> command anywhere in the code.</p></li>
<li><p>Using <code>debug</code> or <code>debugonce</code>. The former sets a breakpoint that invokes the interactive debugger at every invocation of the function, until the <code>undebug</code> function removes the breakpoint. <code>debugonce</code> sets a breakpoint for single execution.</p></li>
</ol>
<p>Debugging works on the interpreted <code>R</code> statements. Many functions call complied code in other languages, C and C++, for example. The interactive RStudio debugger cannot step through this compiled code.</p>


<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">Figure&nbsp;8.2: The <em>Show Traceback</em> icon in RStudio after an error occured</span>
<span class="glightbox-desc lightbox-desc-2">Figure&nbsp;8.3: Hitting the breakpoint at the <code>ada:ada</code> entry point.</span>
<span class="glightbox-desc lightbox-desc-3">Figure&nbsp;8.4: Controls for moving through the code in the browser window.</span>
<span class="glightbox-desc lightbox-desc-4">Figure&nbsp;8.5: About to execute the call to <code>ada.default</code>.</span>
<span class="glightbox-desc lightbox-desc-5">Figure&nbsp;8.6: A view of the environment during interactive debugging.</span>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-Wickham_AdvR" class="csl-entry" role="listitem">
Wickham, H. 2019. <em>Advanced r, 2nd Ed.</em> Chapman &amp; Hall/CRC Press. <a href="http://adv-r.had.co.nz/">http://adv-r.had.co.nz/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./random.html" class="pagination-link" aria-label="Random Number Generation">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Random Number Generation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./reproducibility.html" class="pagination-link" aria-label="Reproducible Research and Data Analysis">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Reproducible Research and Data Analysis</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Statistical Programming (Packages) by Oliver Schabenberger</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"loop":false,"selector":".lightbox","closeEffect":"zoom","descPosition":"bottom","openEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>